<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.knowimage.mapper.RecentWorkMapper">
    <insert id="insertRecentWork" parameterType="cn.knowimage.pojo.RecentWork">
        insert into recent_work (cp_index,method,user_id,create_time)
        value(
        #{recent_work.cp_index},
        #{recent_work.method},
        #{recent_work.user_id},
        #{recent_work.create_time})
    </insert>

    <select id="findMyRecentWork" resultType="cn.knowimage.pojo.RecentWork">
        select recent_work.cp_index,recent_work.method,recent_work.user_id,recent_work.create_time,pathway_info_merge.pathway_name
        from recent_work,user,pathway_info_merge
        where user.username = #{username} and pathway_info_merge.pathway_index = recent_work.cp_index
        order by recent_work.id desc
    </select>

</mapper>